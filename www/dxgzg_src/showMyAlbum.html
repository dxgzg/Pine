<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>dxgzg & cy picture</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css'>
    <link rel="stylesheet" href="css/picture.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios@0.21.3/dist/axios.min.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>

<body>
    <div class="header">
        <h2>dxgzg & cy 生活小相册</h2>
    </div>
    <div class="container" id="app">
        <!-- <vue-gallery :photos="photos"></vue-gallery> -->
        <div class="gallery">

            <div class="activePhoto" :style="'background-image:url('+photos[activePhoto]+');'">

                <button type="button" class="previous" @click="previousPhoto()">
           <i class="fas fa-chevron-circle-left"></i>
           </button>
                <button type="button" class="next" @click="nextPhoto()">
           <i class="fas fa-chevron-circle-right"></i>
           </button>
            </div>
            <!-- 模态 -->
            <!-- <div class="activePhoto">
                <el-image style="width: 100%; height: 100%" :src="photos[activePhoto]" :preview-src-list="photos">
                </el-image>
            </div> -->

            <div class="thumbnails">
                <div v-for="(photo,index) in photos" :src="photo" :key="index" @click="changePhoto(index)" :class="{'cative':activePhoto == index}" :style="'background-image:url('+photo+')'">
                </div>
            </div>
        </div>
    </div>
    <script>
        new Vue({
            el: '#app',
            data: {

                activePhoto: 0,
                photos: [
                    'img/ico.png',
                    'image/2.jpeg'
                ]
            },
            mounted: function() {
                this.getData()
                console.log("this.photos" + this.photos)
            },
            methods: {
                getData: function() {
                    let that = this;
                    axios.get('pictureList.json').then(function(response) {
                        console.log(response.data)
                        console.log(response.data.pictureList);
                        that.photos = response.data.pictureList;
                    }, function(err) {
                        console.log("error")
                    });
                },
                changePhoto(index) {
                    this.activePhoto = index
                },
                nextPhoto() {
                    this.changePhoto(this.activePhoto + 1 < this.photos.length ? this.activePhoto + 1 : 0)
                },
                previousPhoto() {
                    this.changePhoto(this.activePhoto - 1 >= 0 ? this.activePhoto - 1 : this.photos.length - 1)
                },
            }
        });
    </script>

</body>

</html>